---
# K3S Cluster Inventory
# All nodes run Ubuntu and are accessed via SSH as 'tech' user
#
# NOTE: On Windows, run Ansible from WSL2 with the key copied to ~/.ssh/id_ed25519_k3s
# See README.md for setup instructions.

all:
  vars:
    ansible_user: tech
    ansible_ssh_private_key_file: ~/.ssh/id_ed25519_k3s
    ansible_python_interpreter: /usr/bin/python3

  children:
    # Control plane nodes (run etcd, API server, controller-manager, scheduler)
    control_plane:
      hosts:
        k3s-03:
          ansible_host: 192.168.1.46
          location: proxmox
        k3s-04:
          ansible_host: 192.168.1.198
          location: proxmox
        k3s-05:
          ansible_host: 192.168.1.92
          location: proxmox

    # Worker nodes (run workloads only)
    workers:
      hosts:
        # Proxmox workers
        k3s-01:
          ansible_host: 192.168.1.113
          location: proxmox
        k3s-02:
          ansible_host: 192.168.1.171
          location: proxmox
        # Hyper-V workers (added Dec 25, 2025)
        k3s-06:
          ansible_host: 192.168.1.200
          location: hyperv
        k3s-07:
          ansible_host: 192.168.1.201
          location: hyperv

    # All K3S nodes
    k3s_cluster:
      children:
        control_plane:
        workers:
